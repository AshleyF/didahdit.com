<html>
    <head>
        <title>CW Tools</title>
        <style>
            body {
                background-color: black;
                color: white;
                font-family: sans-serif; }
            a { color: #eee; }
            button { background-color: #555; color: #eee; }
            textarea { background-color: #555; color: #eee; }
            h5 { color: #555; }
            hr { color: #555; }
            tr { background-color: #555; }
            td { background-color: black; }
        </style>
        <script>
            const defaultSpeed = 20;
            const defaultFarnsworth = 21; // dits
            const canvasWidth = 1450;
            const canvasHeight = 64;

            var farnsworth = defaultFarnsworth; // dits
            var trainingSpeechPause = 2;

            var connectedPort = null;
            var morse = "  ETIANMSURWDKGOHVF L PJBXCYZQ  54 3   2& +    16=/   ( 7   8 90     $      ?_    \"  .    @   '  -        ;! )     ,    :";
            var p = 1;
            var message = '&nbsp;';
            var sending = '';
            var char = '';

            var audioStarted = false;
            var audioCtx;
            var gain;

            function say(utterance, delay) {
                var utter = '';
                for (var i in utterance) {
                    var c = utterance[i];
                    if (c == c.toUpperCase()) {
                        var spell = {
                            'A': 'ay',
                            'B': 'bee',
                            'C': 'cee',
                            'D': 'dee',
                            'E': 'ee',
                            'F': 'ef',
                            'G': 'gee',
                            'H': 'aych',
                            'I': 'eye',
                            'J': 'jay',
                            'K': 'kay',
                            'L': 'el',
                            'M': 'em',
                            'N': 'in',
                            'O': 'oh',
                            'P': 'pee',
                            'Q': 'cue',
                            'R': 'ar',
                            'S': 'ess',
                            'T': 'tee',
                            'U': 'you',
                            'V': 'vee',
                            'W': 'double you',
                            'X': 'ex',
                            'Y': 'wye',
                            'Z': 'zee',
                            '?': 'question mark',
                            '.': 'full stop',
                            ',': 'comma',
                            ':': 'colon',
                            '-': 'dash',
                            ';': 'semicolon',
                            '!': 'exclamation point',
                            '/': 'slash',
                            "'": 'apostrophe',
                            '"': 'quotation mark',
                            '_': 'underscore',
                            '=': 'double dash',
                            '&': 'ampersand',
                            '$': 'dollar sign',
                            '(': 'left parenthesis',
                            ')': 'right parenthesis',
                            '+': 'plus',
                            '@': 'at sign',
                            '<': ' ', // nothing
                            '>': 'prosign',
                        }[c];
                        utter += ' ' + (spell || c) + ' ';
                    } else {
                        utter += c;
                    }
                }
                if ('speechSynthesis' in window) {
                    window.setTimeout(function() {
                        window.speechSynthesis.speak(
                            new SpeechSynthesisUtterance(utter)
                        )
                    }, delay * 1000);
                }
            }

            function sayMessage() {
                say(document.getElementById('message').value, 0);
            }

            function startAudio() {
                audioCtx = new (window.AudioContext || window.webkitAudioContext)();
                var oscillator = audioCtx.createOscillator();
                oscillator.frequency.value = 750;
                gain = audioCtx.createGain();
                gain.gain.value = 0;
                oscillator.connect(gain);
                gain.connect(audioCtx.destination);
                oscillator.start(0);
                audioStarted = true;
            }

            var mode;
            var memory;
            var tone;
            var speed;
            var ditlen;

            var t = 0;
            function playTone(len) {
                const ramp = 0.01;
                if (!audioStarted) startAudio();
                var c = audioCtx.currentTime;
                t = c > t ? c : t;
                gain.gain.setTargetAtTime(1, t, ramp);
                t += len;
                gain.gain.setTargetAtTime(0, t, ramp);
                t += ditlen;
            }

            function silence(len) {
                t += len;
            }
            
            function updateBreaks(len) {
                var end = (new Date()).getTime() / 1000 + len;
                letterBreak = end + (ditlen * 3);
                wordBreak = end + (ditlen * 7);
                farnsworthWordBreak = wordBreak + (ditlen * farnsworth);
            }

            function dit() {
                p *= 2;
                updateCharacter();
                playTone(ditlen)
                updateBreaks(ditlen);
            }

            function dah() {
                p = p * 2 + 1;
                updateCharacter();
                var len = 3 * ditlen;
                playTone(len);
                updateBreaks(len);
            }

            function load() {
                testQsoLoop();
                if ('serial' in navigator) {
                    navigator.serial.addEventListener('connect', (e) => {
                        // Connect to `e.target` or add it to a list of available ports.
                        //alert('Connected: ' + JSON.stringify(e));
                    });
                    navigator.serial.addEventListener('disconnect', (e) => {
                        // Remove `e.target` from the list of available ports.
                        //alert('Disconnected: ' + JSON.stringify(e));
                    });
                } else {
                    alert('SERIAL UNAVAILABLE'); // The Web Serial API is supported.
                }
                document.getElementById('message').addEventListener('keypress', (e) => {
                    if (e.charCode == 13 && connectedPort != null) {
                        sendMessage();
                        e.target.value = '';
                        e.preventDefault();
                    }
                });
                document.body.addEventListener('keydown', (e) => {
                    if (!e.repeat && e.srcElement.id != 'message') {
                        switch (e.code) {
                            case 'Comma':
                                setKeys(true, rightDown);
                                break;
                            case 'Period':
                                setKeys(leftDown, true);
                                break;
                            case 'Escape':
                                reset();
                                break;
                        }
                    }
                });
                document.body.addEventListener('keyup', (e) => {
                    if (e.srcElement.id != 'message') {
                        switch (e.code) {
                            case 'Comma':
                                setKeys(false, rightDown);
                                break;
                            case 'Period':
                                setKeys(leftDown, false);
                                break;
                        }
                    }
                });
                reset();
                setSpeed(defaultSpeed);
                setFarnsworth(defaultFarnsworth);
                setMode('U');
                setMemory(true);
                setTone(false);
                read();
                drawKeyAndToneState();
            }

            function connect() {
                // const port = await navigator.serial.requestPort();
                //const usbVendorId = 0xABCD;
                //navigator.serial.requestPort({ filters: [{ usbVendorId }]}).then((port) => {
                navigator.serial.requestPort().then((port) => {
                    // Connect to `port` or add it to the list of available ports.
                    port.open({ baudRate: 115200 }).then(() => {
                        connectedPort = port;
                        const writer = connectedPort.writable.getWriter();
                        writer.write(new Uint8Array([getSpeedByte(speed), getModeByte(mode), getMemoryByte(memory), getToneByte(tone), getKeyboardByte(false)])).then(() => {
                            writer.releaseLock();
                            displayMode();
                        });
                    }).catch(e => {
                        alert('ERROR OPENING: ' + e);
                    });
                    //navigator.serial.getPorts().then((ports) => {
                    //    // Initialize the list of available ports with `ports` on page load.
                    //    alert('Ports: ' + JSON.stringify(ports));
                    //});
                }).catch((e) => {
                    // The user didn't select a port.
                    alert('ERROR NO PORT CHOSEN: ' + JSON.stringify(e));
                });
            }
            
            function disconnect() {
                if (connectedPort != null) {
                    connectedPort.close();
                    connectedPort = null;
                    displayMode();
                    // TODO: reader busy/locked https://stackoverflow.com/questions/65748344/how-can-i-interrupt-a-reader-when-it-hangs-need-a-timeout-on-reader-read
                }
            }

            function sendByte(b) {
                if (connectedPort != null) {
                    const writer = connectedPort.writable.getWriter();
                    writer.write(new Uint8Array([b])).then(() => {
                        writer.releaseLock();
                    });
                }
            }

            function displayMode() {
                var modeName = mode == 'U' ? 'Ultimatic' : mode == 'A' ? 'Curtis-A' : mode == 'B' ? 'Curtis-B' : 'Unknown';
                document.getElementById('mode').innerText = modeName + ' (' + speed + ' WPM + ' + farnsworth + ' dits, memory ' + (memory ? 'on' : 'off') + ' memory, tone ' + (tone ? 'on' : 'off') + ', ' + (connectedPort ? 'connected' : 'disconnected') + ', QSO: ' + qso.stage + ')';
            }

            function getModeByte(m) {
                switch (mode) {
                    case 'A':
                        return 65;
                    case 'B':
                        return 66;
                    case 'U':
                        return 85;
                }
            }

            function setMode(m) {
                mode = m;
                sendByte(getModeByte(mode));
                displayMode();
            }

            function getMemoryByte(mem) {
                return 77 + (mem ? 0 : 32); // M/m
            }

            function getToneByte(t) {
                return 84 + (t ? 0 : 32); // T/t
            }

            function getKeyboardByte(k) {
                return 75 + (k ? 0 : 32); // K/k
            }

            function setMemory(mem) {
                memory = mem;
                sendByte(getMemoryByte(memory));
                displayMode();
            }

            function setTone(t) {
                tone = t;
                sendByte(getToneByte(t));
                displayMode();
            }

            function setKeyboard(k) {
                sendByte(getKeyboardByte(k));
            }

            function getSpeedByte(wpm) {
                return speed + 200;
            }

            function setSpeed(wpm) {
                speed = wpm;
                ditlen = 1.2 / speed;
                sendByte(getSpeedByte(wpm));
                displayMode();
            }

            function setFarnsworth(dits) {
                farnsworth = dits;
                displayMode();
            }

            function setKeys(left, right) {
                leftDown = left;
                rightDown = right;
                sendByte((left ? 0x2 : 0) | (right ? 0x1 : 0));
                markManualSend();
            }

            function markManualSend() {
                qso.lastManualSend = (new Date()).getTime();
            }

            function train(message) {
                document.getElementById('message').value = message; // TODO: display phrases w/o |
                var prosign = false;
                var words = message.split('|');
                if (!audioStarted) startAudio();
                var startTime = audioCtx.currentTime;
                for (var w in words) {
                    var word = words[w];
                    for (var i in word) {
                        var c = word[i];
                        if (c == ' ') { // word break
                            silence(ditlen * 7 + (ditlen * farnsworth));
                        } else {
                            if (c == '<') prosign = true;
                            if (c == '>') prosign = false;
                            var j = morse.indexOf(c.toUpperCase());
                            var letter = [];
                            while (j > 1) {
                                if (j % 2 == 0) {
                                    letter.push(true);
                                    j /= 2;
                                } else {
                                    letter.push(false);
                                    j = (j - 1) / 2;
                                }
                            }
                            letter.reverse();
                            for (var j in letter) {
                                playTone(letter[j] ? ditlen : ditlen * 3);
                                silence(ditlen);
                            }
                            if (!prosign) {
                                silence(ditlen * 3 + (ditlen * farnsworth));
                            }
                        }
                    }
                    say(word, t - startTime + trainingSpeechPause);
                    silence(trainingSpeechPause * 2);
                }
                silence(ditlen * 7); // final word break
            }

            function send(message, manual = true) {
                if (manual) markManualSend(); // vs. QSO auto-reply
                if (connectedPort != null) {
                    sending += message.toUpperCase() + ' ';
                    updateDisplay();
                    var data = [];
                    var letter = [];
                    var prosign = false;
                    for (var i in message) {
                        var m = message[i];
                        if (m == ' ') { // word break
                            for (var i = 0; i < farnsworth / 3; i++) {
                                data.push(32); // extra letter-break
                            }
                            data.push(47);
                        } else {
                            if (m == '<') prosign = true;
                            if (m == '>') prosign = false;
                            var j = morse.indexOf(m.toUpperCase());
                            while (j > 1) {
                                if (j % 2 == 0) {
                                    letter.push(46); // dit
                                    j /= 2;
                                } else {
                                    letter.push(45); // dah
                                    j = (j - 1) / 2;
                                }
                            }
                            data = data.concat(letter.reverse());
                            letter = [];
                            if (!prosign) {
                                for (var i = 0; i < farnsworth / 3; i++) {
                                    data.push(32); // letter-break
                                }
                                data.push(32); // letter-break
                            }
                        }
                    }
                    data.push(47); // final word break
                    const writer = connectedPort.writable.getWriter();
                    writer.write(new Uint8Array(data)).then(() => {
                        writer.releaseLock();
                    });
                }
            }

            function sendMessage() {
                if (connectedPort != null) {
                    send(document.getElementById('message').value);
                }
            }

            function sendTraining() {
                train(document.getElementById('message').value);
            }

            var initQso = {
                kind: 'disabled',
                stage: 'idle',
                stageChangeTime: 0,
                yourCall: null,
                theirCall: null,
                send: null,
                lastManualSend: 0,
                lastSendingTime: 0,
            };

            var qso = Object.assign({}, initQso);

            function qsoLoop(msg, time, qso) {
                function randomCallsign() {
                    return 'KTR4CEY';
                }
                var foo = (qso.lastManualSend - qso.stageChangeTime);
                var manualSentSinceStage = (qso.lastManualSend - qso.stageChangeTime) > 0;
                var timeSinceLastManualSend = (time - qso.lastManualSend);
                var sendAndPauseSinceStage = manualSentSinceStage && timeSinceLastManualSend > 3000;
                switch (qso.kind) {
                    case 'pota-activator':
                        switch (qso.stage) {
                            case 'idle':
                                var call = /CQ DE ([^\ ]+).* K ?$/g.exec(msg);
                                if (call) {
                                    qso.stage = 'started';
                                    qso.yourCall = call[1];
                                    qso.theirCall = randomCallsign();
                                    qso.send = qso.yourCall + ' DE ' + qso.theirCall + ' <AR>';
                                }
                                break;
                            case 'started':
                                var bye = /E ?E ?$/g.exec(msg);
                                if (bye) {
                                    qso.stage = 'idle';
                                    qso.send = 'EE';
                                }
                                break;
                        }
                        break;
                    case 'pota-hunter':
                        switch (qso.stage) {
                            case 'idle':
                                qso.theirCall = randomCallsign();
                                qso.send = 'CQ POTA DE ' + qso.theirCall + ' K';
                                qso.stage = 'started';
                                break;
                            case 'started':
                                if (sendAndPauseSinceStage) {
                                    var call = /([A-Z][^\ ]+) ?$/g.exec(msg);
                                    if (call) {
                                        qso.yourCall = call[1];
                                        qso.send = qso.yourCall + ' GM UR 599 5NN <BK>';
                                        qso.stage = 'contact'
                                    }
                                }
                                break;
                            case 'contact':
                                if (sendAndPauseSinceStage) {
                                    qso.send = '<BK> TU ES 73 DE ' + qso.theirCall + ' E E';
                                    qso.stage = 'bye'
                                }
                                break;
                            case 'bye':
                                if (sendAndPauseSinceStage) {
                                    var ditdit = /E ?E ?$/g.exec(msg);
                                    if (ditdit) qso.stage = 'idle'
                                }
                                break;
                        }
                        break;
                }
                return qso;
            }

            function testQsoLoop() {
                function testCQ(cq, qso) {
                    var out = qsoLoop(cq, 0, q);
                    if (out.send != 'KK7HXU DE KTR4CEY <AR>') console.log('Unexpected CQ reply');
                    if (out.stage != 'started') console.log('Unexpected CQ stage');
                }
                var q = Object.assign({}, qso);
                q.kind = 'pota-activator';
                testCQ('CQ DE KK7HXU K');
                testCQ('CQ POTA DE KK7HXU K');
                testCQ('CQ CQ CQ DE KK7HXU KK7HXU K');
                testCQ('CQ CQ CQ POTA DE KK7HXU KK7HXU K');

                var q = Object.assign({}, qso);
                q.kind = 'pota-hunter';
                var out = qsoLoop('', 0, q);
                if (out.send != 'CQ POTA DE KTR4CEY K') console.log('Unexpected CQ');
                if (out.stage != 'started') console.log('Unexpected CQ stage');
                out = qsoLoop('KK7HXU', 0, q); // but not enough time
                if (out.stage != 'started') console.log('Unexpected CQ stage');
                q.stageChangeTime = 1000;
                q.lastManualSend = 1001;
                out = qsoLoop('KK7HXU', 4002, q); // but not enough time
                if (out.stage != 'contact') console.log('Unexpected CQ stage');
                if (out.send != 'KK7HXU GM UR 599 5NN <BK>') console.log('Unexpected contact reply')
            }

            var lastStage = '';
            function simulateQso(msg) {
                if (sending.length == 0 || sending == ' ') {
                    qso = qsoLoop(msg, (new Date()).getTime(), qso);
                    if (lastStage != qso.stage && !qso.send) {
                        lastStage = qso.stage;
                        qso.stageChangeTime = (new Date()).getTime() + 1000; // give time for loopback
                    }
                    if (qso.send) {
                        var captureSend = qso.send;
                        clearNextMessage = true;
                        displayMode();
                        send(captureSend, false);
                        qso.send = null;
                    }
                }
            }

            function updateDisplay() {
                function escape(str) {
                    return str.replace('<', '&lt;').replace('>', '&gt;');
                }
                document.getElementById('copy').innerHTML = escape(message) + escape(char) + "<span style='border-left: 1px solid #777'>&nbsp;</span><span style='color:#555'>" + escape(sending) + "</span>";
            }

            function reset() {
                message = '&nbsp;';
                sending = '';
                p = 1;
                char = '';
                updateDisplay();
                var canvas = document.getElementById('canvas');
                var ctx = canvas.getContext('2d');
                ctx.fillStyle = '#000';
                ctx.fillRect(0, 0, canvasWidth, canvasHeight);
                cursor = 20;
            }

            var canvasVisible = true;
            function toggleCode() {
                document.getElementById('canvas').style.display = canvasVisible ? 'none' : '';
                canvasVisible = !canvasVisible;
            }

            var decodeVisible = true;
            function toggleDecode() {
                document.getElementById('copy').style.display = decodeVisible ? 'none' : '';
                decodeVisible = !decodeVisible;
            }

            function updateCharacter() {
                function setProsign(sign) {
                    char = '<' + sign + '>';
                }
                switch (p) {
                    case 31: // backspace
                        // TODO
                        break;
                    case 21:
                        setProsign('AA');
                        break;
                    case 34:
                        setProsign('VE');
                        break;
                    case 37:
                        setProsign('INT');
                        break;
                    case 42:
                        setProsign('AR');
                        break;
                    case 53:
                        setProsign('CT');
                        break;
                    case 69:
                        setProsign('SK');
                        break;
                    case 103:
                        setProsign('NJ');
                        break;
                    case 197:
                        setProsign('BK');
                        break;
                    case 568:
                        setProsign('SOS');
                        break;
                    case 256: // correction (clear)
                        // TODO
                        message = '&nbsp;';
                        char = '';
                        break;
                    default:
                        if (p >= 121) { // unknown
                            // TODO
                            char = '';
                        } else {
                            char = morse[p];
                            if (char == ' ') { // unknown?
                                char = '';
                            }
                        }
                        break;
                }
                if (sending.startsWith(char)) {
                    sending = sending.substring(char.length);
                } else if (sending.startsWith(' ') && sending.length > 1 && sending.substring(1).startsWith(char)) {
                    sending = sending.substring(char.length + 1);
                }
                updateDisplay();
            }

            function copy(b) {
                switch (b) {
                    case 46: // dit
                        dit();
                        break;
                    case 45: // dah
                        dah();
                        break;
                }
            }

            var cursor = 20;
            var leftDown = false;
            var rightDown = false;
            var letterBreak = 0;
            var wordBreak = 0;
            var farnsworthWordBreak = 0;
            var lastGain = 0;
            var clearNextKeyState = false;
            var clearNextMessage = false;

            function drawKeyAndToneState() {
                const ribbon = canvasHeight / 8;
                var now = (new Date()).getTime() / 1000;
                if (now < wordBreak) {
                    var canvas = document.getElementById('canvas');
                    var ctx = canvas.getContext('2d');
                    if (clearNextKeyState) {
                        ctx.fillStyle = '#000';
                        ctx.fillRect(0, 0, canvasWidth, canvasHeight);
                        cursor = 20;
                        clearNextKeyState = false;
                    }
                    if (clearNextMessage) {
                        message = '&nbsp;';
                        updateDisplay();
                        clearNextMessage = false;
                    }
                    var currentGain = gain.gain.value;
                    if ((lastGain < 0.5 && currentGain > 0.5) || (lastGain > 0.5 && currentGain < 0.5)) {
                        ctx.fillStyle = '#555'; // mark tone boundaries
                        lastGain = currentGain;
                    } else {
                        ctx.fillStyle = '#000'; // erase cursor
                    }
                    ctx.fillRect(cursor, 0, 1, canvasHeight);
                    if (rightDown) {
                        ctx.fillStyle = '#00F';
                        ctx.fillRect(cursor, ribbon, 1, ribbon);
                    }
                    if (leftDown) {
                        ctx.fillStyle = '#F00';
                        ctx.fillRect(cursor, ribbon * 3, 1, ribbon);
                    }
                   if (currentGain > 0.5) {
                        ctx.fillStyle = '#fff';
                        ctx.fillRect(cursor, ribbon * 5, 1, ribbon * 2);
                    }
                    cursor = ++cursor % canvasWidth;
                    ctx.fillStyle = '#0F0';
                    ctx.fillRect(cursor, 0, 1, canvasHeight);
                }
                if (now - letterBreak > 0) {
                    message += char;
                    simulateQso(message);
                    char = '';
                    p = 1;
                }
                if (now - farnsworthWordBreak > 0 && !message.endsWith(' ')) {
                    message += ' ';
                    updateDisplay();
                }
                if (now - wordBreak > ditlen * 14.0) {
                    clearNextKeyState = true;
                }
                if (now - wordBreak > ditlen * 50) {
                    clearNextMessage = true;
                }

                window.setTimeout(drawKeyAndToneState, 1);
            }

            function read() {
                if (connectedPort != null) {
                    const reader = connectedPort.readable.getReader();
                    reader.read().then(x =>
                    {
                        for (var i in x.value) {
                            var v = x.value[i];
                            if (v < 4) {
                                leftDown = (v & 0x2) != 0;
                                rightDown = (v & 0x1) != 0;
                                markManualSend();
                            } else {
                                copy(v);
                            }
                        }
                        reader.releaseLock();
                        window.setTimeout(read, 10);
                    });
                } else {
                    window.setTimeout(read, 10);
                }
            }

            function simulateKeys(keys) {
                var next = (new Date()).getTime();
                function updateKeyState() {
                    if (keys.length > 0) {
                        var k = keys[0];
                        keys = keys.substring(1);
                        setKeys(k == 'L' || k == 'S', k == 'R' || k == 'S');
                        next += ditlen * 1000 / 2;
                        window.setTimeout(updateKeyState, next - (new Date()).getTime());
                    } else {
                        setKeys(false, false);
                    }
                }
                updateKeyState();
            }

            function simulateExamples(examples) {
                var next = (new Date()).getTime();
                function simulate() {
                    var keys = examples.pop();
                    simulateKeys(keys);
                    if (examples.length > 0) {
                        next += (keys.length + 12) * ditlen * 1000 / 2;
                        window.setTimeout(simulate, next - (new Date()).getTime());
                    }
                }
                examples = examples.reverse();
                simulate();
            }
        </script>
    </head>
    <body onload="load()">
        <h5 id="mode">Ultimatic (with memory)</h5>
        <h1 id="copy">&nbsp;</h1>
        <canvas id="canvas" width="1450px" height="64px" style="border: 1px solid black"></canvas>
        <hr />
        <textarea id="message" rows="2" cols="120"></textarea>
        <hr />
        <button id="connect" onclick="connect()">Connect</button>
        <button id="disconnect" onclick="disconnect()">Disconnect</button>
        <button id="send" onclick="sendMessage()">Send</button>
        <button id="say" onclick="sayMessage()">Say</button>
        <button id="train" onclick="sendTraining()">Train</button>
        <button id="reset" onclick="reset()">Clear</button>
        <button id="toggleCode" onclick="toggleCode()">Toggle Code</button>
        <button id="toggleDecode" onclick="toggleDecode()">Toggle Decode</button>
        <span>&nbsp;</span>
        <button id="qsoActivator" onclick="qso.kind = 'pota-activator'">Activator</button>
        <button id="qsoHunter" onclick="qso.kind = 'pota-hunter'">Hunter</button>
        <button id="qsoDisable" onclick="qso.kind = 'disabled'; qso = Object.assign({}, initQso);">Disable QSO Sim</button>
        <hr />
        <button id="iambicA" onclick="setMode('A')">Curtis-A</button>
        <button id="iambicB" onclick="setMode('B')">Curtis-B</button>
        <button id="iambicU" onclick="setMode('U')">Ultimatic</button>
        <span>&nbsp;</span>
        <button id="enableMemory" onclick="setMemory(true)">Enable Memory</button>
        <button id="disableMemory" onclick="setMemory(false)">Disable Memory</button>
        <span>&nbsp;</span>
        <button id="enableTone" onclick="setTone(true)">Enable Tone</button>
        <button id="disableTone" onclick="setTone(false)">Disable Tone</button>
        <hr />
        <button id="speed5" onclick="setSpeed(5)">5 WPM</button>
        <button id="speed10" onclick="setSpeed(10)">10 WPM</button>
        <button id="speed15" onclick="setSpeed(15)">15 WPM</button>
        <button id="speed20" onclick="setSpeed(20)">20 WPM</button>
        <button id="speed21" onclick="setSpeed(21)">21 WPM</button>
        <button id="speed22" onclick="setSpeed(22)">22 WPM</button>
        <button id="speed23" onclick="setSpeed(23)">23 WPM</button>
        <button id="speed24" onclick="setSpeed(24)">24 WPM</button>
        <button id="speed25" onclick="setSpeed(25)">25 WPM</button>
        <button id="speed30" onclick="setSpeed(30)">30 WPM</button>
        <button id="speed40" onclick="setSpeed(40)">40 WPM</button>
        <button id="speed50" onclick="setSpeed(50)">50 WPM</button>
        <br />
        <button id="farnsworth" onclick="setFarnsworth(0)">0 dits</button>
        <button id="farnsworth" onclick="setFarnsworth(7)">7 dits</button>
        <button id="farnsworth" onclick="setFarnsworth(14)">14 dits</button>
        <button id="farnsworth" onclick="setFarnsworth(21)">21 dits</button>
        <button id="farnsworth" onclick="setFarnsworth(28)">28 dits</button>
        <hr />
        <a href="javascript:send('CQ')">CQ</a>
        <a href="javascript:send('QRL?')">QRL?</a>
        <a href="javascript:send('CU')">CU</a>
        <a href="javascript:send('DE')">DE</a>
        <a href="javascript:send('K')">K</a>
        <a href="javascript:send('KN')">KN</a>
        <a href="javascript:send('OP')">OP</a>
        <a href="javascript:send('NAME')">NAME</a>
        <a href="javascript:send('UR')">UR</a>
        <a href="javascript:send('RST')">RST</a>
        <a href="javascript:send('IS')">IS</a>
        <a href="javascript:send('599')">599</a>
        <a href="javascript:send('5NN')">5NN</a>
        <a href="javascript:send('KK7HXU')">KK7HXU</a>
        <a href="javascript:send('ASHLEY')">ASHLEY</a>
        <hr />
        <a href="javascript:train('T T T T T|E E E E E|A A A A A|N N N N N|tea|tee|eat|ate|at|tat|teen|neat|ten|net|tan|eat at ten|ate at ten|at tee')">CWOps1</a>
        <a href="javascript:train('T T T T T|E E E E E|A A A A A|N N N N N|O O O O O|I I I I I|S S S S S|1 1 1 1 1|4 4 4 4 4|ten|ton|tin|tie|toe|no|not|note|it|at|one|neat|net|nit|toes|stone|tease|noise|one neat note|no noise|tie it|1 ton stone')">CWOps2</a>
        <a href="javascript:train('N1AS|N4ON|S41T|NO1S|AI1E|IT4O|EA1ON|ES4IT')">CWOps2 (calls)</a>
        <table>
            <tr>
                <th>Single Lever</th>
                <th>Ultimatic</th>
                <th>Curtis-A</th>
                <th>Curtis-B</th>
            </tr>
            <tr>
                <td valign="top"><!-- single lever -->
                    <ul>
                        <li><a href="javascript:simulateExamples(['L', 'LLLLLL', 'LLLLLLLLLL', 'LLLLLLLLLLLLLL', 'LLLLLLLLLLLLLLLLLL', 'R', 'RRRRRRRRRRRR', 'RRRRRRRRRRRRRRRRRRRR', 'RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR'])">Repetitive elements</a></li>
                        <ul>
                            <li>Tap <a href="javascript:simulateKeys('L')">E</a>, <a href="javascript:simulateKeys('R')">T</a>, or hold <a href="javascript:simulateKeys('LLLLLL')">I</a>, <a href="javascript:simulateKeys('LLLLLLLLLL')">S</a>, <a href="javascript:simulateKeys('LLLLLLLLLLLLLL')">H</a>, <a href="javascript:simulateKeys('LLLLLLLLLLLLLLLLLL')">5</a>, <a href="javascript:simulateKeys('RRRRRRRRRRRR')">M</a>, <a href="javascript:simulateKeys('RRRRRRRRRRRRRRRRRRRR')">O</a>, <a href="javascript:simulateKeys('RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR')">0</a></li>
                            <li>To <a href="javascript:simulateExamples(['LLLLL', 'LLLLLL', 'LLLLLLL'])">end of dit</a> or <a href="javascript:simulateExamples(['RRRRRRRRR', 'RRRRRRRRRRRR', 'RRRRRRRRRRRRRRR'])">⅔ of dah</a></li>
                        </ul>
                        <li><a href="javascript:simulateExamples(['LL RRRRR', 'LL RRRRRRRRRRRRR', 'LL RRRRRRRRRRRRRRRRRRRRR', 'LL RRRRRRRRRRRRRRRRRRRRRRRRRRRRR', 'RRR LLLLLL', 'RRR LLLLLLLLLL', 'RRR LLLLLLLLLLLLLL', 'RRR LLLLLLLLLLLLLLLLLL'])">Initial switch</a></li>
                        <ul>
                            <li><a href="javascript:simulateKeys('LL RRRRR')">A</a>, <a href="javascript:simulateKeys('LL RRRRRRRRRRRRR')">W</a>, <a href="javascript:simulateKeys('LL RRRRRRRRRRRRRRRRRRRRR')">J</a>, <a href="javascript:simulateKeys('LL RRRRRRRRRRRRRRRRRRRRRRRRRRRRR')">1</a>, and <a href="javascript:simulateKeys('RRR LLLLLL')">N</a>, <a href="javascript:simulateKeys('RRR LLLLLLLLLL')">D</a>, <a href="javascript:simulateKeys('RRR LLLLLLLLLLLLLL')">B</a>, <a href="javascript:simulateKeys('RRR LLLLLLLLLLLLLLLLLL')">6</a></li>
                        </ul>
                        <li><a href="javascript:simulateExamples(['LLLLLL RRRRR', 'LLLLLLLLLL RRRRR', 'LLLLLLLLLLLLLL RRRRR', 'RRRRRRRRRRRR LLLLL', 'RRRRRRRRRRRRRRRRRRRRRRRRRRRR LLLLL'])">Ending switch</a></li>
                        <ul>
                            <li><a href="javascript:simulateKeys('LLLLLL RRRRR')">U</a>, <a href="javascript:simulateKeys('LLLLLLLLLL RRRRR')">V</a>, <a href="javascript:simulateKeys('LLLLLLLLLLLLLL RRRRR')">4</a>, and <a href="javascript:simulateKeys('RRRRRRRRRRRR LLLLL')">G</a>, <a href="javascript:simulateKeys('RRRRRRRRRRRRRRRRRRRRRRRRRRRR LLLLL')">9</a></li>
                        </ul>
                        <li><a href="javascript:simulateExamples(['LLLLLL RRRRRRRRRRRRRRRRRRRRR', 'LLLLLLLLLL RRRRRRRRRRRRR', 'RRRRRRRRRRRR LLLLLLLLL', 'RRRRRRRRRRRR LLLLLLLLLLLLL', 'RRRRRRRRRRRRRRRRRRRR LLLLLLLLL'])">Middle switch</a></li>
                        <ul>
                            <li><a href="javascript:simulateKeys('LLLLLL RRRRRRRRRRRRRRRRRRRRR')">2</a>, <a href="javascript:simulateKeys('LLLLLLLLLL RRRRRRRRRRRRR')">3</a>, and <a href="javascript:simulateKeys('RRRRRRRRRRRR LLLLLLLLL')">Z</a>, <a href="javascript:simulateKeys('RRRRRRRRRRRR LLLLLLLLLLLLL')">7</a>, <a href="javascript:simulateKeys('RRRRRRRRRRRRRRRRRRRR LLLLLLLLL')">8</a></li>
                        </ul>
                        <li><a href="javascript:simulateExamples(['LL RRRRR LLLLL', 'LL RRRRR LLLLLLLLL', 'RRR LLLLLL RRRRR', 'RRRR LLLLL RRRRRRRRRRRR'])">Early Interstitial</a></li>
                        <ul>
                            <li><a href="javascript:simulateKeys('LL RRRRR LLLLL')">R</a>, <a href="javascript:simulateKeys('LL RRRRR LLLLLLLLL')">L</a>, and <a href="javascript:simulateKeys('RRR LLLLLL RRRRR')">K</a>, <a href="javascript:simulateKeys('RRRR LLLLL RRRRRRRRRRRR')">Y</a></li>
                        </ul>
                        <li><a href="javascript:simulateExamples(['LLLLLL RRRRR LLLLL', 'RRRRRRRRRRRR LLLLL RRRRR'])">Late interstitial</a></li>
                        <ul>
                            <li><a href="javascript:simulateKeys('LLLLLL RRRRR LLLLL')">F</a>, <a href="javascript:simulateKeys('RRRRRRRRRRRR LLLLL RRRRR')">Q</a></li>
                        </ul>
                        <li><a href="javascript:simulateExamples(['LL RRRRRRRRRRRRR LLLLL', 'RRRR LLLLLLLLL RRRRR', 'LLLLLL RRRRRRRRRRRRR LLLLLLLLL'])">Long middle interstitial</a></li>
                        <ul>
                            <li><a href="javascript:simulateKeys('LL RRRRRRRRRRRRR LLLLL')">P</a>, <a href="javascript:simulateKeys('RRRR LLLLLLLLL RRRRR')">X</a>, <a href="javascript:simulateKeys('LLLLLL RRRRRRRRRRRRR LLLLLLLLL')">?</a></li>
                        </ul>
                        <li><a href="javascript:simulateExamples(['RRRR LLLLL RRRRR LLLLL', 'LL RRRRR LLLLL RRRRR LLLLL RRRRR', 'RRRR LLLLLLLLL RRRRR LLLLL'])">Alternating</a></li>
                        <ul>
                            <li><a href="javascript:simulateKeys('RRRR LLLLL RRRRR LLLLL')">C</a>, <a href="javascript:simulateKeys('LL RRRRR LLLLL RRRRR LLLLL RRRRR')">. (period)</a>, <a href="javascript:simulateKeys('RRRR LLLLLLLLL RRRRR LLLLL')">/ (slash)</a></li>
                        </ul>
                    </li>
                </td>
                <td valign="top"><!-- ultimatic -->
                    <ul>
                        <li><a href="javascript:simulateExamples(['L', 'LLLLLL', 'LLLLLLLLLL', 'LLLLLLLLLLLLLL', 'LLLLLLLLLLLLLLLLLL', 'R', 'RRRRRRRRRRRR', 'RRRRRRRRRRRRRRRRRRRR', 'RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR'])">Repetitive elements (same)</a></li>
                        <ul>
                            <li>Tap <a href="javascript:simulateKeys('L')">E</a>, <a href="javascript:simulateKeys('R')">T</a>, or hold <a href="javascript:simulateKeys('LLLLLL')">I</a>, <a href="javascript:simulateKeys('LLLLLLLLLL')">S</a>, <a href="javascript:simulateKeys('LLLLLLLLLLLLLL')">H</a>, <a href="javascript:simulateKeys('LLLLLLLLLLLLLLLLLL')">5</a>, <a href="javascript:simulateKeys('RRRRRRRRRRRR')">M</a>, <a href="javascript:simulateKeys('RRRRRRRRRRRRRRRRRRRR')">O</a>, <a href="javascript:simulateKeys('RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR')">0</a></li>
                            <li>To <a href="javascript:simulateExamples(['LLLLL', 'LLLLLL', 'LLLLLLL'])">end of dit</a> or <a href="javascript:simulateExamples(['RRRRRRRRR', 'RRRRRRRRRRRR', 'RRRRRRRRRRRRRRR'])">⅔ of dah</a></li>
                        </ul>
                        <li><a href="javascript:simulateExamples(['LLSSSSSS', 'LLSSSSSSSSSSSSSS', 'LLSSSSSSSSSSSSSSSSSSSSSS', 'LLSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS', 'RRRSSSSSSS', 'RRRSSSSSSSSSSS', 'RRRSSSSSSSSSSSSSSS', 'RRRSSSSSSSSSSSSSSSSSSS'])">Initial switch (squeeze)</a></li>
                        <ul>
                            <li><a href="javascript:simulateKeys('LLSSSSSS')">A</a> <a href="javascript:simulateKeys('LSS     ')">A</a>, <a href="javascript:simulateKeys('LLSSSSSSSSSSSSSS')">W</a>, <a href="javascript:simulateKeys('LLSSSSSSSSSSSSSSSSSSSSSS')">J</a>, <a href="javascript:simulateKeys('LLSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS')">1</a>, and <a href="javascript:simulateKeys('RRRSSSSSSS')">N</a> <a href="javascript:simulateKeys('RRRSSS    ')">N</a>, <a href="javascript:simulateKeys('RRRSSSSSSSSSSS')">D</a>, <a href="javascript:simulateKeys('RRRSSSSSSSSSSSSSSS')">B</a>, <a href="javascript:simulateKeys('RRRSSSSSSSSSSSSSSSSSSS')">6</a></li>
                        </ul>
                        <li><a href="javascript:simulateExamples(['LLLLLLSSSSSS', 'LLLLLLLLLLSSSSSS', 'LLLLLLLLLLLLLLSSSSSS', 'RRRRRRRRRRRRSSSSSS', 'RRRRRRRRRRRRRRRRRRRRRRRRRRRRSSSSSS'])">Ending switch (squeeze)</a></li>
                        <ul>
                            <li><a href="javascript:simulateKeys('LLLLLLSSSSSS')">U</a> <a href="javascript:simulateKeys('LLLLLSSS    ')">U</a>, <a href="javascript:simulateKeys('LLLLLLLLLLSSSSSS')">V</a> <a href="javascript:simulateKeys('LLLLLLLLLSSS    ')">V</a>, <a href="javascript:simulateKeys('LLLLLLLLLLLLLLSSSSSS')">4</a> <a href="javascript:simulateKeys('LLLLLLLLLLLLLSSS    ')">4</a>, and <a href="javascript:simulateKeys('RRRRRRRRRRRRSSSSSS')">G</a> <a href="javascript:simulateKeys('RRRRRRRRRRRRSSS   ')">G</a>, <a href="javascript:simulateKeys('RRRRRRRRRRRRRRRRRRRRRRRRRRRRSSSSSS')">9</a> <a href="javascript:simulateKeys('RRRRRRRRRRRRRRRRRRRRRRRRRRRRSSS   ')">9</a></li>
                        </ul>
                        <li><a href="javascript:simulateExamples(['LLLLLLSSSSSSSSSSSSSSSSSSSSSS', 'LLLLLLLLLLSSSSSSSSSSSSSS', 'RRRRRRRRRRRRSSSSSSSSSS', 'RRRRRRRRRRRRSSSSSSSSSSSSSS', 'RRRRRRRRRRRRRRRRRRRRSSSSSSSSSS'])">Middle switch (squeeze)</a></li>
                        <ul>
                            <li><a href="javascript:simulateKeys('LLLLLLSSSSSSSSSSSSSSSSSSSSSS')">2</a>, <a href="javascript:simulateKeys('LLLLLLLLLLSSSSSSSSSSSSSS')">3</a>, and <a href="javascript:simulateKeys('RRRRRRRRRRRRSSSSSSSSSS')">Z</a>, <a href="javascript:simulateKeys('RRRRRRRRRRRRSSSSSSSSSSSSSS')">7</a>, <a href="javascript:simulateKeys('RRRRRRRRRRRRRRRRRRRRSSSSSSSSSS')">8</a></li>
                        </ul>
                        <li><a href="javascript:simulateExamples(['LLSSSSSSLLLLLL', 'LLSSSSSSLLLLLLLLLL', 'RRRSSSSSSSRRRRRR', 'RRRRSSSSSSRRRRRRRRRRRRR'])">Early Interstitial (squeeze)</a></li>
                        <ul>
                            <li><a href="javascript:simulateKeys('LLSSSSSSLLLLLL')">R</a> <a href="javascript:simulateKeys('LSSLLLLLLLLLLL')">R</a>, <a href="javascript:simulateKeys('LLSSSSSSLLLLLLLLLL')">L</a> <a href="javascript:simulateKeys('LSSLLLLLLLLLLLLLLL')">L</a>, and <a href="javascript:simulateKeys('RRRSSSSSSSRRRRRR')">K</a> <a href="javascript:simulateKeys('RRSSSRRRRRRRRRRR')">K</a>, <a href="javascript:simulateKeys('RRRRSSSSSSRRRRRRRRRRRRR')">Y</a> <a href="javascript:simulateKeys('RRSSSRRRRRRRRRRRRRRRRRR')">Y</a></li>
                        </ul>
                        <li><a href="javascript:simulateExamples(['LLLLLLSSSSSSLLLLLL', 'RRRRRRRRRRRRSSSSSSRRRRRR'])">Late interstitial (squeeze)</a></li>
                        <ul>
                            <li><a href="javascript:simulateKeys('LLLLLLSSSSSSLLLLLL')">F</a> <a href="javascript:simulateKeys('LLLLLSSLLLLLLLLLLL')">F</a>, <a href="javascript:simulateKeys('RRRRRRRRRRRRSSSSSSRRRRRR')">Q</a> <a href="javascript:simulateKeys('RRRRRRRRRRRSSSRRRRRRRRRR')">Q</a></li>
                        </ul>
                        <li><a href="javascript:simulateExamples(['LLSSSSSSSSSSSSSSLLLLLL', 'RRRRSSSSSSSSSSRRRRRR', 'LLLLLLSSSSSSSSSSSSSSLLLLLLLLLL'])">Long middle interstitial (squeeze)</a></li>
                        <ul>
                            <li><a href="javascript:simulateKeys('LLSSSSSSSSSSSSSSLLLLLL')">P</a>, <a href="javascript:simulateKeys('RRRRSSSSSSSSSSRRRRRR')">X</a>, <a href="javascript:simulateKeys('LLLLLLSSSSSSSSSSSSSSLLLLLLLLLL')">?</a></li>
                        </ul>
                        <li><a href="javascript:simulateExamples(['RRRRSSSSSSRRRRRRSSSSSS', 'LLSSSSSSLLLLLLSSSSSSLLLLLLSSSSSS', 'RRRRSSSSSSSSSSRRRRRRSSSSSS'])">Alternating (multi-squeeze)</a></li>
                        <ul>
                            <li><a href="javascript:simulateKeys('RRRRSSSSSSRRRRRRSSSSSS')">C</a> <a href="javascript:simulateKeys('RRRSSSRRRRRRRRRSSSRRRR')">C</a>, <a href="javascript:simulateKeys('LLSSSSSSLLLLLLSSSSSSLLLLLLSSSSSS')">. (period)</a> <a href="javascript:simulateKeys('LLSSSLLLLLLLLSSSLLLLLLLLLSSSLLLL')">. (period)</a>, <a href="javascript:simulateKeys('RRRRSSSSSSSSSSRRRRRRSSSSSS')">/ (slash)</a> <a href="javascript:simulateKeys('RRRRSSSSSSSSSSRRRRRSSSSRRR')">/ (slash)</a></li>
                        </ul>
                    </li>
                </td>
                <td valign="top"><!-- curtis-a -->
                    <ul>
                        <li><a href="javascript:simulateExamples(['L', 'LLLLLL', 'LLLLLLLLLL', 'LLLLLLLLLLLLLL', 'LLLLLLLLLLLLLLLLLL', 'R', 'RRRRRRRRRRRR', 'RRRRRRRRRRRRRRRRRRRR', 'RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR'])">Repetitive elements (same)</a></li>
                        <ul>
                            <li>Tap <a href="javascript:simulateKeys('L')">E</a>, <a href="javascript:simulateKeys('R')">T</a>, or hold <a href="javascript:simulateKeys('LLLLLL')">I</a>, <a href="javascript:simulateKeys('LLLLLLLLLL')">S</a>, <a href="javascript:simulateKeys('LLLLLLLLLLLLLL')">H</a>, <a href="javascript:simulateKeys('LLLLLLLLLLLLLLLLLL')">5</a>, <a href="javascript:simulateKeys('RRRRRRRRRRRR')">M</a>, <a href="javascript:simulateKeys('RRRRRRRRRRRRRRRRRRRR')">O</a>, <a href="javascript:simulateKeys('RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR')">0</a></li>
                            <li>To <a href="javascript:simulateExamples(['LLLLL', 'LLLLLL', 'LLLLLLL'])">end of dit</a> or <a href="javascript:simulateExamples(['RRRRRRRRR', 'RRRRRRRRRRRR', 'RRRRRRRRRRRRRRR'])">⅔ of dah</a></li>
                        </ul>
                        <li><a href="javascript:simulateExamples(['LLSSSSSS', 'LLSSSSSSRRRRRRRR', 'LLSSSSSSRRRRRRRRRRRRRRRR', 'LLSSSSSSRRRRRRRRRRRRRRRRRRRRRRRR', 'RRRSSSSSSS', 'RRRSSSSSSSLLLL', 'RRRSSSSSSSLLLLLLLL', 'RRRSSSSSSSLLLLLLLLLLLL'])">Initial switch (squeeze A, N, else partial)</a></li>
                        <ul>
                            <li><a href="javascript:simulateKeys('LLSSSSSS')">A</a>, <a href="javascript:simulateKeys('LLSSSSSSRRRRRRRR')">W</a>, <a href="javascript:simulateKeys('LLSSSSSSRRRRRRRRRRRRRRRR')">J</a>, <a href="javascript:simulateKeys('LLSSSSSSRRRRRRRRRRRRRRRRRRRRRRRR')">1</a>, and <a href="javascript:simulateKeys('RRRSSSSSSS')">N</a>, <a href="javascript:simulateKeys('RRRSSSSSSSLLLL')">D</a>, <a href="javascript:simulateKeys('RRRSSSSSSSLLLLLLLL')">B</a>, <a href="javascript:simulateKeys('RRRSSSSSSSLLLLLLLLLLLL')">6</a></li>
                        </ul>
                        <li><a href="javascript:simulateExamples(['LLLLLLSSSSSS', 'LLLLLLLLLLSSSSSS', 'LLLLLLLLLLLLLLSSSSSS', 'RRRRRRRRRRRRSSSSSS', 'RRRRRRRRRRRRRRRRRRRRRRRRRRRRSSSSSS'])">Ending switch (squeeze)</a></li>
                        <ul>
                            <li><a href="javascript:simulateKeys('LLLLLLSSSSSS')">U</a>, <a href="javascript:simulateKeys('LLLLLLLLLLSSSSSS')">V</a>, <a href="javascript:simulateKeys('LLLLLLLLLLLLLLSSSSSS')">4</a>, and <a href="javascript:simulateKeys('RRRRRRRRRRRRSSSSSS')">G</a>, <a href="javascript:simulateKeys('RRRRRRRRRRRRRRRRRRRRRRRRRRRRSSSSSS')">9</a></li>
                        </ul>
                        <li><a href="javascript:simulateExamples(['LLLLLLSSSSSSRRRRRRRRRRRRRRRR', 'LLLLLLLLLLSSSSSSRRRRRRRR', 'RRRRRRRRRRRRSSSSSSLLLL', 'RRRRRRRRRRRRSSSSSSSLLLLLLL', 'RRRRRRRRRRRRRRRRRRRRSSSSSSSLLL'])">Middle switch (partial squeeze)</a></li>
                        <ul>
                            <li><a href="javascript:simulateKeys('LLLLLLSSSSSSRRRRRRRRRRRRRRRR')">2</a>, <a href="javascript:simulateKeys('LLLLLLLLLLSSSSSSRRRRRRRR')">3</a>, and <a href="javascript:simulateKeys('RRRRRRRRRRRRSSSSSSSLLL')">Z</a>, <a href="javascript:simulateKeys('RRRRRRRRRRRRSSSSSSSLLLLLLL')">7</a>, <a href="javascript:simulateKeys('RRRRRRRRRRRRRRRRRRRRSSSSSSSLLL')">8</a></li>
                        </ul>
                        <li><a href="javascript:simulateExamples(['LLSSSSSSSSSSSS', 'LLSSSSSSSSSSSSLLLL', 'RRRSSSSSSSSSSSSS', 'RRRRSSSSSSSSSSSSRRRRRRR'])">Early Interstitial (squeeze longer)</a></li>
                        <ul>
                            <li><a href="javascript:simulateKeys('LLSSSSSSSSSSSS')">R</a>, <a href="javascript:simulateKeys('LLSSSSSSSSSSSSLLLL')">L</a>, and <a href="javascript:simulateKeys('RRRSSSSSSSSSSSSS')">K</a>, <a href="javascript:simulateKeys('RRRRSSSSSSSSSSSSRRRRRRR')">Y</a></li>
                        </ul>
                        <li><a href="javascript:simulateExamples(['LLLLLLSSSSSSLLLLLL', 'RRRRRRRRRRRRSSSSSSRRRRRR'])">Late interstitial (squeeze)</a></li>
                        <ul>
                            <li><a href="javascript:simulateKeys('LLLLLLSSSSSSLLLLLL')">F</a>, <a href="javascript:simulateKeys('RRRRRRRRRRRRSSSSSSRRRRRR')">Q</a></li>
                        </ul>
                        <li><a href="javascript:simulateExamples(['LLSSRRRRRRRRRRRRSSLLLL', 'RRRRSSLLLLLLLLSSRRRR', 'LLLLLLSSRRRRRRRRRRRRSSLLLLLLLL'])">Long middle interstitial (slap)</a></li>
                        <ul>
                            <li><a href="javascript:simulateKeys('LLSSRRRRRRRRRRRRSSLLLL')">P</a>, <a href="javascript:simulateKeys('RRRRSSLLLLLLLLSSRRRR')">X</a>, <a href="javascript:simulateKeys('LLLLLLSSRRRRRRRRRRRRSSLLLLLLLL')">?</a></li>
                        </ul>
                        <li><a href="javascript:simulateExamples(['RRSSSSSSSSSSSSSSSSSSSS', 'LLSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS', 'RRRRSSLLLLLLLSSSSSSSSSSSSS'])">Alternating (squeeze)</a></li>
                        <ul>
                            <li><a href="javascript:simulateKeys('RRSSSSSSSSSSSSSSSSSSSS')">C</a>, <a href="javascript:simulateKeys('LLSSSSSSSSSSSSSSSSSSSSSSSSSSSSSS')">. (period)</a>, <a href="javascript:simulateKeys('RRRRSSLLLLLLLSSSSSSSSSSSSS')">/ (slash)</a></li>
                        </ul>
                    </li>
                </td>
                <td valign="top"><!-- curtis-b -->
                    <ul>
                        <li><a href="javascript:simulateExamples(['L', 'LLLLLL', 'LLLLLLLLLL', 'LLLLLLLLLLLLLL', 'LLLLLLLLLLLLLLLLLL', 'R', 'RRRRRRRRRRRR', 'RRRRRRRRRRRRRRRRRRRR', 'RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR'])">Repetitive elements (same)</a></li>
                        <ul>
                            <li>Tap <a href="javascript:simulateKeys('L')">E</a>, <a href="javascript:simulateKeys('R')">T</a>, or hold <a href="javascript:simulateKeys('LLLLLL')">I</a>, <a href="javascript:simulateKeys('LLLLLLLLLL')">S</a>, <a href="javascript:simulateKeys('LLLLLLLLLLLLLL')">H</a>, <a href="javascript:simulateKeys('LLLLLLLLLLLLLLLLLL')">5</a>, <a href="javascript:simulateKeys('RRRRRRRRRRRR')">M</a>, <a href="javascript:simulateKeys('RRRRRRRRRRRRRRRRRRRR')">O</a>, <a href="javascript:simulateKeys('RRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRRR')">0</a></li>
                            <li>To <a href="javascript:simulateExamples(['LLLLL', 'LLLLLL', 'LLLLLLL'])">end of dit</a> or <a href="javascript:simulateExamples(['RRRRRRRRR', 'RRRRRRRRRRRR', 'RRRRRRRRRRRRRRR'])">⅔ of dah</a></li>
                        </ul>
                        <li><a href="javascript:simulateExamples(['LSS  ', 'LLSSSSSSRRRRRRRR', 'LLSSSSSSRRRRRRRRRRRRRRRR', 'LLSSSSSSRRRRRRRRRRRRRRRRRRRRRRRR', 'RRRSSSS', 'RRRSSSSSSSLLLL', 'RRRSSSSSSSLLLLLLLL', 'RRRSSSSSSSLLLLLLLLLLLL'])">Initial switch (short squeeze A, N, else same)</a></li>
                        <ul>
                            <li><a href="javascript:simulateKeys('LSS  ')">A</a>, <a href="javascript:simulateKeys('LLSSSSSSRRRRRRRR')">W</a>, <a href="javascript:simulateKeys('LLSSSSSSRRRRRRRRRRRRRRRR')">J</a>, <a href="javascript:simulateKeys('LLSSSSSSRRRRRRRRRRRRRRRRRRRRRRRR')">1</a>, and <a href="javascript:simulateKeys('RRRSSSS')">N</a>, <a href="javascript:simulateKeys('RRRSSSSSSSLLLL')">D</a>, <a href="javascript:simulateKeys('RRRSSSSSSSLLLLLLLL')">B</a>, <a href="javascript:simulateKeys('RRRSSSSSSSLLLLLLLLLLLL')">6</a></li>
                        </ul>
                        <li><a href="javascript:simulateExamples(['LLLLLL RRRRR', 'LLLLLLLLLL RRRRR', 'LLLLLLLLLLLLLL RRRRR', 'RRRRRRRRRRRR LLLLL', 'RRRRRRRRRRRRRRRRRRRRRRRRRRRR LLLLL'])">Ending switch (slap)</a></li>
                        <ul>
                            <li><a href="javascript:simulateKeys('LLLLLL RRRRR')">U</a>, <a href="javascript:simulateKeys('LLLLLLLLLL RRRRR')">V</a>, <a href="javascript:simulateKeys('LLLLLLLLLLLLLL RRRRR')">4</a>, and <a href="javascript:simulateKeys('RRRRRRRRRRRR LLLLL')">G</a>, <a href="javascript:simulateKeys('RRRRRRRRRRRRRRRRRRRRRRRRRRRR LLLLL')">9</a></li>
                        </ul>
                        <li><a href="javascript:simulateExamples(['LLLLLLSSSSSSRRRRRRRRRRRRRRRR', 'LLLLLLLLLLSSSSSSRRRRRRRR', 'RRRRRRRRRRRRSSSSSSLLLL', 'RRRRRRRRRRRRSSSSSSSLLLLLLL', 'RRRRRRRRRRRRRRRRRRRRSSSSSSSLLL'])">Middle switch (same)</a></li>
                        <ul>
                            <li><a href="javascript:simulateKeys('LLLLLLSSSSSSRRRRRRRRRRRRRRRR')">2</a>, <a href="javascript:simulateKeys('LLLLLLLLLLSSSSSSRRRRRRRR')">3</a>, and <a href="javascript:simulateKeys('RRRRRRRRRRRRSSSSSSSLLL')">Z</a>, <a href="javascript:simulateKeys('RRRRRRRRRRRRSSSSSSSLLLLLLL')">7</a>, <a href="javascript:simulateKeys('RRRRRRRRRRRRRRRRRRRRSSSSSSSLLL')">8</a></li>
                        </ul>
                        <li><a href="javascript:simulateExamples(['LLSSSSSS', 'LLSSSSSSSSSSSSLLLL', 'RRRSSSSSSS   ', 'RRRRSSSSSSSSSSSSRRRRRRR'])">Early Interstitial (short squeeze R, K, else same)</a></li>
                        <ul>
                            <li><a href="javascript:simulateKeys('LLSSSSSS')">R</a>, <a href="javascript:simulateKeys('LLSSSSSSSSSSSSLLLL')">L</a>, and <a href="javascript:simulateKeys('RRRSSSSSSS   ')">K</a>, <a href="javascript:simulateKeys('RRRRSSSSSSSSSSSSRRRRRRR')">Y</a></li>
                        </ul>
                        <li><a href="javascript:simulateExamples(['LLLLLLSSSSSSLLLLLL', 'RRRRRRRRRRRRSSSSSSRRRRRR'])">Late interstitial (same)</a></li>
                        <ul>
                            <li><a href="javascript:simulateKeys('LLLLLLSSSSSSLLLLLL')">F</a>, <a href="javascript:simulateKeys('RRRRRRRRRRRRSSSSSSRRRRRR')">Q</a></li>
                        </ul>
                        <li><a href="javascript:simulateExamples(['LLSSRRRRRRRRRRRRSSLLLL', 'RRRRSSLLLLLLLLSSRRRR', 'LLLLLLSSRRRRRRRRRRRRSSLLLLLLLL'])">Long middle interstitial (same)</a></li>
                        <ul>
                            <li><a href="javascript:simulateKeys('LLSSRRRRRRRRRRRRSSLLLL')">P</a>, <a href="javascript:simulateKeys('RRRRSSLLLLLLLLSSRRRR')">X</a>, <a href="javascript:simulateKeys('LLLLLLSSRRRRRRRRRRRRSSLLLLLLLL')">?</a></li>
                        </ul>
                        <li><a href="javascript:simulateExamples(['RRSSSSSSSSSSSSSS      ', 'LLSSSSSSSSSSSSSSSSSSSSSSSS      ', 'RRRRSSLLLLLLLSSSSSSS      '])">Alternating (shorter squeeze)</a></li>
                        <ul>
                            <li><a href="javascript:simulateKeys('RRSSSSSSSSSSSSSS      ')">C</a>, <a href="javascript:simulateKeys('LLSSSSSSSSSSSSSSSSSSSSSSSS      ')">. (period)</a>, <a href="javascript:simulateKeys('RRRRSSLLLLLLLSSSSSSS      ')">/ (slash)</a></li>
                        </ul>
                    </li>
                </td>
            </tr>
        </table>
    </body>
</html>